<!DOCTYPE html>
<html lang="es">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Responde Rápido</title>
        <link rel="stylesheet" href="misEstilos.css">
    </head>
    <body  > <!--onload="comenzarCuentaRegresiva()"-->
        <div class="wrapp">
            <form>
                <h2>Responde a las preguntas lo mas rapido que puedas </h2>
                <h2>Tú Tiempo:
                    <span id="cuentaRegresiva"></span></h2>
                <p>1. ¿Cuál es el nombre de río más largo del mundo?</p>
                <input type="text" id="respuesta1">
                <p>2. ¿Cómo se llama el río que separa Pest de Buda?</p>
                <input type="text" id="respuesta2">
                <p>3. ¿Cuál es la montaña más alta del continente americano?</p>
                <input type="text" id="respuesta3">
                <p>4. ¿En qué provincia española está Tomelloso?</p>
                <input type="text" id="respuesta4">
                <p>5. ¿Cómo se llama el estrecho que separa Asia y América?</p>
                <input type="text" id="respuesta5">
                <br><br>
                <p>Mensaje de revisión.</p>
                <input type="text" id="revision">
                <br><br>
                <button class="finalizar" onclick="finalizado()">Terminé!</button>
                <br><br>
                <button class="reintentar" onclick="volverAIntentar()">Volver a
                    Intentar</button>
            </form>
        </div>

        <audio id="audioFinal">
            <source src="gameover.mp3" type="audio/mpeg">
            Sonido no habilitado
        </audio>

        <script>
            let tiempoTerminado;
            let intervaloDeTiempo;

            function comenzarCuentaRegresiva() {
                tiempoTerminado = setTimeout(tiempoCumplido, 60000);
                intervaloDeTiempo = setInterval(ticTac, 1000);

                document.getElementById("cuentaRegresiva").textContent = 60;
            }

            function ticTac() {
                let tiempo = document.getElementById("cuentaRegresiva").textContent;

                document.getElementById("cuentaRegresiva").textContent = tiempo - 1;
            }

            function tiempoCumplido() {
                clearInterval(intervaloDeTiempo);
                document.getElementById("cuentaRegresiva").textContent = 0;
                document.getElementById("audioFinal").play();
                alert("GEAME OVER: Se acabó el tiempo. Intenta nuevamente");
            }

            function finalizado() {
                clearTimeout(tiempoTerminado);
                clearInterval(intervaloDeTiempo);

                let fecha = new Date();
                let respuesta1 = document.getElementById("respuesta1").value;
                let respuesta2 = document.getElementById("respuesta2").value;
                let respuesta3 = document.getElementById("respuesta3").value;
                let respuesta4 = document.getElementById("respuesta4").value;
                let respuesta5 = document.getElementById("respuesta5").value;

                let mensaje = fecha.toLocaleDateString("es-Es") + "\n" +
                                "1. " + respuesta1 + "\n" +
                                "2. " + respuesta2 + "\n" +
                                "3. " + respuesta3 + "\n" +
                                "4. " + respuesta4 + "\n" +
                                "5. " + respuesta5;

                alert(mensaje);
            }

            function volverAIntentar() {
                location.reload();
            }
        </script>
    </body>
</html>